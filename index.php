<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brief-12</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>

<body>

    <div class="container text-center mt-3">
        <form method="POST">

            <div class="row">

                <!-- :::::::::::::::::::::: Table of content :::::::::::::::::::::: -->

                <div class="col-sm">
                    <table class="table table-bordered mb-1">
                        <thead>
                            <tr>
                                <th class="col-3 p-0">23 NOV - 11:00 H.</th>
                                <th class="col-2 p-0">Score</th>
                                <th class="col-3 p-0">MATCH 9</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><img src="https://hatscripts.github.io/circle-flags/flags/ma.svg" width="48" class="m-2"><br>Morocco</td>
                                <td>
                                    <div class="d-inline-block" style="width: 3rem;">
                                        <input type="number" name="firstScore" class="form-control">
                                    </div>
                                    <p class="d-inline-block">-</p>
                                    <div class="d-inline-block" style="width: 3rem;">
                                        <input type="number" name="secondScore" class="form-control">
                                    </div>
                                </td>
                                <td><img src="https://hatscripts.github.io/circle-flags/flags/hr.svg" width="48" class="m-2"><br>Croatia</td>
                            </tr>
                        </tbody>
                    </table>

                    <table class="table table-bordered mb-1">
                        <thead>
                            <tr>
                                <th class="col-3 p-0">23 NOV - 20:00 H.</th>
                                <th class="col-2 p-0">Score</th>
                                <th class="col-3 p-0">MATCH 12</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><img src="https://hatscripts.github.io/circle-flags/flags/be.svg" width="48" class="m-2"><br>Belgium</td>
                                <td>
                                    <div class="d-inline-block" style="width: 3rem;">
                                        <input type="number" name="thirdScore" class="form-control">
                                    </div>
                                    <p class="d-inline-block">-</p>
                                    <div class="d-inline-block" style="width: 3rem;">
                                        <input type="number" name="fourthScore" class="form-control">
                                    </div>
                                </td>
                                <td><img src="https://hatscripts.github.io/circle-flags/flags/ca.svg" width="48" class="m-2"><br>Canada</td>
                            </tr>
                        </tbody>
                    </table>

                    <table class="table table-bordered mb-1">

                        <thead>
                            <tr>
                                <th class="col-3 p-0">27 NOV - 14:00 H.</th>
                                <th class="col-2 p-0">Score</th>
                                <th class="col-3 p-0">MATCH 26</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><img src="https://hatscripts.github.io/circle-flags/flags/be.svg" width="48" class="m-2"><br>Belgium</td>
                                <td>
                                    <div class="d-inline-block" style="width: 3rem;">
                                        <input type="number" name="fifthScore" class="form-control">
                                    </div>
                                    <p class="d-inline-block">-</p>
                                    <div class="d-inline-block" style="width: 3rem;">
                                        <input type="number" name="sixthScore" class="form-control">
                                    </div>
                                </td>
                                <td><img src="https://hatscripts.github.io/circle-flags/flags/ma.svg" width="48" class="m-2"><br>Morocco</td>
                            </tr>
                        </tbody>
                    </table>

                    <table class="table table-bordered mb-1">

                        <thead>
                            <tr>
                                <th class="col-3 p-0">27 NOV - 17:00 H.</th>
                                <th class="col-2 p-0">Score</th>
                                <th class="col-3 p-0">MATCH 27</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><img src="https://hatscripts.github.io/circle-flags/flags/hr.svg" width="48" class="m-2"><br>Croatia</td>
                                <td>
                                    <div class="d-inline-block" style="width: 3rem;">
                                        <input type="number" name="seventhScore" class="form-control">
                                    </div>
                                    <p class="d-inline-block">-</p>
                                    <div class="d-inline-block" style="width: 3rem;">
                                        <input type="number" name="eighthScore" class="form-control">
                                    </div>
                                </td>
                                <td><img src="https://hatscripts.github.io/circle-flags/flags/ca.svg" width="48" class="m-2"><br>Canada</td>
                            </tr>
                        </tbody>
                    </table>

                    <table class="table table-bordered mb-1">

                        <thead>
                            <tr>
                                <th class="col-3 p-0">01 DEC - 16:00 H.</th>
                                <th class="col-2 p-0">Score</th>
                                <th class="col-3 p-0">MATCH 41</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><img src="https://hatscripts.github.io/circle-flags/flags/hr.svg" width="48" class="m-2"><br>Croatia</td>
                                <td>
                                    <div class="d-inline-block" style="width: 3rem;">
                                        <input type="number" name="ninthScore" class="form-control">
                                    </div>
                                    <p class="d-inline-block">-</p>
                                    <div class="d-inline-block" style="width: 3rem;">
                                        <input type="number" name="tenthScore" class="form-control">
                                    </div>
                                </td>
                                <td><img src="https://hatscripts.github.io/circle-flags/flags/be.svg" width="48" class="m-2"><br>Belgium</td>
                            </tr>
                        </tbody>
                    </table>

                    <table class="table table-bordered mb-1">

                        <thead>
                            <tr>
                                <th class="col-3 p-0">01 DEC - 16:00 H.</th>
                                <th class="col-2 p-0">Score</th>
                                <th class="col-3 p-0">MATCH 42</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><img src="https://hatscripts.github.io/circle-flags/flags/ca.svg" width="48" class="m-2"><br>Canada</td>
                                <td>
                                    <div class="d-inline-block" style="width: 3rem;">
                                        <input type="number" name="eleventhScore" class="form-control">
                                    </div>
                                    <p class="d-inline-block">-</p>
                                    <div class="d-inline-block" style="width: 3rem;">
                                        <input type="number" name="twelvethScore" class="form-control">
                                    </div>
                                </td>
                                <td><img src="https://hatscripts.github.io/circle-flags/flags/ma.svg" width="48" class="m-2"><br>Morocco</td>
                            </tr>

                        </tbody>
                    </table>
                </div>

                <!-- :::::::::::::::::::::: Table of results :::::::::::::::::::::: -->

                <div class="col-sm">
                    <?php

                    function createTable()
                    {

                        $pointsArray = array("Morocco" => 0, "Croatia" => 0, "Belgium" => 0, "Canada" => 0);
                        $matchesArray = array("Morocco" => 0, "Croatia" => 0, "Belgium" => 0, "Canada" => 0);
                        $drawArray = array("Morocco" => 0, "Croatia" => 0, "Belgium" => 0, "Canada" => 0);
                        $winArray = array("Morocco" => 0, "Croatia" => 0, "Belgium" => 0, "Canada" => 0);
                        $loseArray = array("Morocco" => 0, "Croatia" => 0, "Belgium" => 0, "Canada" => 0);
                        $goalsFor = array("Morocco" => 0, "Croatia" => 0, "Belgium" => 0, "Canada" => 0);
                        $goalsAgainst = array("Morocco" => 0, "Croatia" => 0, "Belgium" => 0, "Canada" => 0);
                        $goalsDifference = array("Morocco" => 0, "Croatia" => 0, "Belgium" => 0, "Canada" => 0);

                        $firstValue = $_POST["firstScore"];
                        $secondValue = $_POST["secondScore"];

                        $thirdValue = $_POST["thirdScore"];
                        $fourthValue = $_POST["fourthScore"];

                        $fifthValue = $_POST["fifthScore"];
                        $sixthValue = $_POST["sixthScore"];

                        $seventhValue = $_POST["seventhScore"];
                        $eighthValue = $_POST["eighthScore"];

                        $ninthValue = $_POST["ninthScore"];
                        $tenthValue = $_POST["tenthScore"];

                        $eleventhValue = $_POST["eleventhScore"];
                        $twelvethValue = $_POST["twelvethScore"];

                        if ($firstValue == "") $firstValue = 0;
                        if ($secondValue == "") $secondValue = 0;
                        if ($thirdValue == "") $thirdValue = 0;
                        if ($fourthValue == "") $fourthValue = 0;
                        if ($fifthValue == "") $fifthValue = 0;
                        if ($sixthValue == "") $sixthValue = 0;
                        if ($seventhValue == "") $seventhValue = 0;
                        if ($eighthValue == "") $eighthValue = 0;
                        if ($ninthValue == "") $ninthValue = 0;
                        if ($tenthValue == "") $tenthValue = 0;
                        if ($eleventhValue == "") $eleventhValue = 0;
                        if ($twelvethValue == "") $twelvethValue = 0;

                        // :::::::::::::::::::::: win & lose & draw Cases ::::::::::::::::::::::

                        if ($firstValue > $secondValue) {
                            $winArray["Morocco"]++;
                            $loseArray["Croatia"]++;
                            $matchesArray["Croatia"]++;
                            $matchesArray["Morocco"]++;
                        } elseif ($firstValue < $secondValue) {
                            $winArray["Croatia"]++;
                            $loseArray["Morocco"]++;
                            $matchesArray["Croatia"]++;
                            $matchesArray["Morocco"]++;
                        } else {
                            $drawArray["Morocco"]++;
                            $drawArray["Croatia"]++;
                            $matchesArray["Croatia"]++;
                            $matchesArray["Morocco"]++;
                        };

                        if ($thirdValue > $fourthValue) {
                            $winArray["Belgium"]++;
                            $loseArray["Canada"]++;
                            $matchesArray["Canada"]++;
                            $matchesArray["Belgium"]++;
                        } elseif ($thirdValue < $fourthValue) {
                            $winArray["Canada"]++;
                            $loseArray["Belgium"]++;
                            $matchesArray["Canada"]++;
                            $matchesArray["Belgium"]++;
                        } else {
                            $drawArray["Belgium"]++;
                            $drawArray["Canada"]++;
                            $matchesArray["Canada"]++;
                            $matchesArray["Belgium"]++;
                        };

                        if ($fifthValue > $sixthValue) {
                            $winArray["Belgium"]++;
                            $loseArray["Morocco"]++;
                            $matchesArray["Morocco"]++;
                            $matchesArray["Belgium"]++;
                        } elseif ($fifthValue < $sixthValue) {
                            $winArray["Morocco"]++;
                            $loseArray["Belgium"]++;
                            $matchesArray["Morocco"]++;
                            $matchesArray["Belgium"]++;
                        } else {
                            $drawArray["Belgium"]++;
                            $drawArray["Morocco"]++;
                            $matchesArray["Morocco"]++;
                            $matchesArray["Belgium"]++;
                        };

                        if ($seventhValue > $eighthValue) {
                            $winArray["Croatia"]++;
                            $loseArray["Canada"]++;
                            $matchesArray["Canada"]++;
                            $matchesArray["Croatia"]++;
                        } elseif ($seventhValue < $eighthValue) {
                            $winArray["Canada"]++;
                            $loseArray["Croatia"]++;
                            $matchesArray["Canada"]++;
                            $matchesArray["Croatia"]++;
                        } else {
                            $drawArray["Croatia"]++;
                            $drawArray["Canada"]++;
                            $matchesArray["Canada"]++;
                            $matchesArray["Croatia"]++;
                        };

                        if ($ninthValue > $tenthValue) {
                            $winArray["Croatia"]++;
                            $loseArray["Belgium"]++;
                            $matchesArray["Belgium"]++;
                            $matchesArray["Croatia"]++;
                        } elseif ($ninthValue < $tenthValue) {
                            $winArray["Belgium"]++;
                            $loseArray["Croatia"]++;
                            $matchesArray["Belgium"]++;
                            $matchesArray["Croatia"]++;
                        } else {
                            $drawArray["Croatia"]++;
                            $drawArray["Belgium"]++;
                            $matchesArray["Belgium"]++;
                            $matchesArray["Croatia"]++;
                        };

                        if ($eleventhValue > $twelvethValue) {
                            $winArray["Canada"]++;
                            $loseArray["Morocco"]++;
                            $matchesArray["Morocco"]++;
                            $matchesArray["Canada"]++;
                        } elseif ($eleventhValue < $twelvethValue) {
                            $winArray["Morocco"]++;
                            $loseArray["Canada"]++;
                            $matchesArray["Morocco"]++;
                            $matchesArray["Canada"]++;
                        } else {
                            $drawArray["Canada"]++;
                            $drawArray["Morocco"]++;
                            $matchesArray["Morocco"]++;
                            $matchesArray["Canada"]++;
                        };

                        // :::::::::::::::::::::: General points & Goals for & Goals against & Goals difference ::::::::::::::::::::::

                        $pointsArray["Morocco"] = $winArray["Morocco"] * 3 + $drawArray["Morocco"];
                        $pointsArray["Croatia"] = $winArray["Croatia"] * 3 + $drawArray["Croatia"];
                        $pointsArray["Belgium"] = $winArray["Belgium"] * 3 + $drawArray["Belgium"];
                        $pointsArray["Canada"] = $winArray["Canada"] * 3 + $drawArray["Canada"];

                        $goalsFor["Morocco"] = $firstValue + $sixthValue + $twelvethValue;
                        $goalsFor["Croatia"] = $secondValue + $seventhValue + $ninthValue;
                        $goalsFor["Belgium"] = $thirdValue + $fifthValue + $tenthValue;
                        $goalsFor["Canada"] = $fourthValue + $eighthValue + $eleventhValue;

                        $goalsAgainst["Morocco"] = $secondValue + $fifthValue + $eleventhValue;
                        $goalsAgainst["Croatia"] = $firstValue + $eighthValue + $tenthValue;
                        $goalsAgainst["Belgium"] = $fourthValue + $sixthValue + $ninthValue;
                        $goalsAgainst["Canada"] = $thirdValue + $seventhValue + $twelvethValue;

                        $goalsDifference["Morocco"] = $goalsFor["Morocco"] - $goalsAgainst["Morocco"];
                        $goalsDifference["Croatia"] = $goalsFor["Croatia"] - $goalsAgainst["Croatia"];
                        $goalsDifference["Belgium"] = $goalsFor["Belgium"] - $goalsAgainst["Belgium"];
                        $goalsDifference["Canada"] = $goalsFor["Canada"] - $goalsAgainst["Canada"];

                        // :::::::::::::::::::::: Sorting ::::::::::::::::::::::

                        arsort($pointsArray);
                        arsort($goalsDifference);
                        arsort($goalsFor);

                        $firstTeam = array_keys($pointsArray)[0];
                        $secondTeam = array_keys($pointsArray)[1];
                        $thirdTeam = array_keys($pointsArray)[2];
                        $fourthTeam = array_keys($pointsArray)[3];

                        echo (array_values($pointsArray)[0]);
                        echo "<br>";
                        echo (array_values($pointsArray)[1]);
                        echo "<br>";
                        echo (array_values($pointsArray)[2]);
                        echo "<br>";
                        echo (array_values($pointsArray)[3]);
                        echo "<br>";

                        if (count($pointsArray) !== count(array_unique($pointsArray))) {

                            echo "Some duplicates";
                            $firstTeam = array_keys($goalsDifference)[0];
                            $secondTeam = array_keys($goalsDifference)[1];
                            $thirdTeam = array_keys($goalsDifference)[2];
                            $fourthTeam = array_keys($goalsDifference)[3];

                            if (count($goalsDifference) !== count(array_unique($goalsDifference))) {
                                echo "<br>";
                                echo "Some duplicates in goals differences";
                                $firstTeam = array_keys($goalsFor)[0];
                                $secondTeam = array_keys($goalsFor)[1];
                                $thirdTeam = array_keys($goalsFor)[2];
                                $fourthTeam = array_keys($goalsFor)[3];
                            };
                        };

                        // echo $pointsArray[0];

                        // create an array, push something in the array each time a condition is true... then if array length X condition number two starts applying...

                        // if ($firstTeam = $secondTeam or $thirdTeam = $fourthTeam or $fourthTeam = $firstTeam or $firstTeam = $thirdTeam or $secondTeam = $fourthTeam) {

                        //     $firstTeam = array_keys($goalsDifference)[0];
                        //     $secondTeam = array_keys($goalsDifference)[1];
                        //     $thirdTeam = array_keys($goalsDifference)[2];
                        //     $fourthTeam = array_keys($goalsDifference)[3];

                        //     if ($firstTeam = $secondTeam or $thirdTeam = $fourthTeam or $fourthTeam = $firstTeam or $firstTeam = $thirdTeam or $secondTeam = $fourthTeam) {

                        //         $firstTeam = array_keys($goalsFor)[0];
                        //         $secondTeam = array_keys($goalsFor)[1];
                        //         $thirdTeam = array_keys($goalsFor)[2];
                        //         $fourthTeam = array_keys($goalsFor)[3];

                        //     }

                        // };

                        // :::::::::::::::::::::: Seting the right flag ::::::::::::::::::::::

                        $firstTeamFlag = "";
                        $secondTeamFlag = "";
                        $thirdTeamFlag = "";
                        $fourthTeamFlag = "";

                        if ($firstTeam == "Morocco") $firstTeamFlag = "ma";
                        elseif ($firstTeam == "Croatia") $firstTeamFlag = "hr";
                        elseif ($firstTeam == "Belgium") $firstTeamFlag = "be";
                        else $firstTeamFlag = "ca";

                        if ($secondTeam == "Morocco") $secondTeamFlag = "ma";
                        elseif ($secondTeam == "Croatia") $secondTeamFlag = "hr";
                        elseif ($secondTeam == "Belgium") $secondTeamFlag = "be";
                        else $secondTeamFlag = "ca";

                        if ($thirdTeam == "Morocco") $thirdTeamFlag = "ma";
                        elseif ($thirdTeam == "Croatia") $thirdTeamFlag = "hr";
                        elseif ($thirdTeam == "Belgium") $thirdTeamFlag = "be";
                        else $thirdTeamFlag = "ca";

                        if ($fourthTeam == "Morocco") $fourthTeamFlag = "ma";
                        elseif ($fourthTeam == "Croatia") $fourthTeamFlag = "hr";
                        elseif ($fourthTeam == "Belgium") $fourthTeamFlag = "be";
                        else $fourthTeamFlag = "ca";

                        // :::::::::::::::::::::: Creating & Filling table with values ::::::::::::::::::::::

                        echo "<table class='table table-bordered'>
                        <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Teams</th>
                                    <th>PTS</th>
                                    <th>GP</th>
                                    <th>W</th>
                                    <th>D</th>
                                    <th>L</th>
                                    <th>GF</th>
                                    <th>GA</th>
                                    <th>+/-</th>
                                </tr>
                        </thead>";

                        echo "<tbody>";

                        function tableRow($targetedTeam, $targetedTeamFlag) {

                            global $pointsArray, $matchesArray, $winArray, $drawArray, $loseArray, $goalsFor, $goalsAgainst;

                            return "<tr> <th>1.</th> <td><img src='https://hatscripts.github.io/circle-flags/flags/$targetedTeamFlag.svg' width='48' class='m-2'><br>
                            $targetedTeam</td> <td>"
                                . $pointsArray[$targetedTeam] . "</td><td>"
                                . $matchesArray[$targetedTeam] . "</td><td>"
                                . $winArray[$targetedTeam] . "</td><td>"
                                . $drawArray[$targetedTeam] . "</td><td>"
                                . $loseArray[$targetedTeam] . "</td><td>"
                                . $goalsFor[$targetedTeam] . "</td><td>"
                                . $goalsAgainst[$targetedTeam] . "</td><td>"
                                . $goalsFor[$targetedTeam] - $goalsAgainst[$targetedTeam] . "</td></tr>";
                        };

                        echo tableRow($firstTeam, $firstTeamFlag);
                        echo tableRow($secondTeam, $secondTeamFlag);
                        echo tableRow($thirdTeam, $thirdTeamFlag);
                        echo tableRow($fourthTeam, $fourthTeamFlag);

                        // <tr> <th>1.</th> <td><img src='https://hatscripts.github.io/circle-flags/flags/$firstTeamFlag.svg' width='48' class='m-2'><br>
                        // $firstTeam</td> <td>"
                        // . $pointsArray[$firstTeam] . "</td><td>"
                        // . $matchesArray[$firstTeam] . "</td><td>"
                        // . $winArray[$firstTeam] . "</td><td>"
                        // . $drawArray[$firstTeam] . "</td><td>"
                        // . $loseArray[$firstTeam] . "</td><td>"
                        // . $goalsFor[$firstTeam] . "</td><td>"
                        // . $goalsAgainst[$firstTeam] . "</td><td>"
                        // . $goalsFor[$firstTeam] - $goalsAgainst[$firstTeam] . "</td></tr>

                        // <tr> <th>2.</th> <td><img src='https://hatscripts.github.io/circle-flags/flags/$secondTeamFlag.svg' width='48' class='m-2'><br>
                        // $secondTeam</td> <td>"
                        // . $pointsArray[$secondTeam] . "</td><td>"
                        // . $matchesArray[$secondTeam] . "</td><td>" . $winArray[$secondTeam] . "</td><td>"
                        // . $drawArray[$secondTeam] . "</td><td>"
                        // . $loseArray[$secondTeam] . "</td><td>"
                        // . $goalsFor[$secondTeam] . "</td><td>"
                        // . $goalsAgainst[$secondTeam] . "</td><td>"
                        // . $goalsFor[$secondTeam] - $goalsAgainst[$secondTeam] . "</td></tr>

                        // <tr> <th>3.</th> <td><img src='https://hatscripts.github.io/circle-flags/flags/$thirdTeamFlag.svg' width='48' class='m-2'><br>
                        // $thirdTeam</td> <td>"
                        // . $pointsArray[$thirdTeam] . "</td><td>"
                        // . $matchesArray[$thirdTeam] . "</td><td>"
                        // . $winArray[$thirdTeam] . "</td><td>"
                        // . $drawArray[$thirdTeam] . "</td><td>"
                        // . $loseArray[$thirdTeam] . "</td><td>"
                        // . $goalsFor[$thirdTeam] . "</td><td>"
                        // . $goalsAgainst[$thirdTeam] . "</td><td>"
                        // . $goalsFor[$thirdTeam] - $goalsAgainst[$thirdTeam] . "</td></tr>

                        // <tr> <th>4.</th> <td><img src='https://hatscripts.github.io/circle-flags/flags/$fourthTeamFlag.svg' width='48' class='m-2'><br>
                        // $fourthTeam </td> <td>"
                        // . $pointsArray[$fourthTeam] . "</td><td>"
                        // . $matchesArray[$fourthTeam] . "</td><td>"
                        // . $winArray[$fourthTeam] . "</td><td>"
                        // . $drawArray[$fourthTeam] . "</td><td>"
                        // . $loseArray[$fourthTeam] . "</td><td>"
                        // . $goalsFor[$fourthTeam] . "</td><td>"
                        // . $goalsAgainst[$fourthTeam] . "</td><td>"
                        // . $goalsFor[$fourthTeam] - $goalsAgainst[$fourthTeam] . "</td></tr>";

                        echo "</tbody> </table>";
                    };

                    if (isset($_POST['submitButton'])) {
                        createTable();
                    }

                    ?>
                    <input class="btn btn-primary" type="submit" name="submitButton" value="Submit">
                </div>

            </div>

        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>

</html>